/*
 jQuery Easing v1.3: Copyright (c) 2008 George McGinley Smith | BSD License: http://www.opensource.org/licenses/bsd-license.php
 jquery.transloadit2-v2.1.0.js: Copyright (c) 2013 Transloadit Ltd | MIT License: http://www.opensource.org/licenses/mit-license.php

 Fork this on Github: http://github.com/transloadit/jquery-sdk

 Transloadit servers allow browsers to cache jquery.transloadit2.js for 1 hour.
 keep this in mind when rolling out fixes.
 json2: Douglas Crockford | Public domain
 jQuery Tools 1.2.3: Tero Piirainen | Public domain
*/
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,a,e,d,c){return jQuery.easing[jQuery.easing.def](f,a,e,d,c)},easeInQuad:function(f,a,e,d,c){return d*(a/=c)*a+e},easeOutQuad:function(f,a,e,d,c){return-d*(a/=c)*(a-2)+e},easeInOutQuad:function(f,a,e,d,c){return 1>(a/=c/2)?d/2*a*a+e:-d/2*(--a*(a-2)-1)+e},easeInCubic:function(f,a,e,d,c){return d*(a/=c)*a*a+e},easeOutCubic:function(f,a,e,d,c){return d*((a=a/c-1)*a*a+1)+e},easeInOutCubic:function(f,a,e,d,c){return 1>(a/=c/2)?d/2*a*a*a+e:
d/2*((a-=2)*a*a+2)+e},easeInQuart:function(f,a,e,d,c){return d*(a/=c)*a*a*a+e},easeOutQuart:function(f,a,e,d,c){return-d*((a=a/c-1)*a*a*a-1)+e},easeInOutQuart:function(f,a,e,d,c){return 1>(a/=c/2)?d/2*a*a*a*a+e:-d/2*((a-=2)*a*a*a-2)+e},easeInQuint:function(f,a,e,d,c){return d*(a/=c)*a*a*a*a+e},easeOutQuint:function(f,a,e,d,c){return d*((a=a/c-1)*a*a*a*a+1)+e},easeInOutQuint:function(f,a,e,d,c){return 1>(a/=c/2)?d/2*a*a*a*a*a+e:d/2*((a-=2)*a*a*a*a+2)+e},easeInSine:function(f,a,e,d,c){return-d*Math.cos(a/
c*(Math.PI/2))+d+e},easeOutSine:function(f,a,e,d,c){return d*Math.sin(a/c*(Math.PI/2))+e},easeInOutSine:function(f,a,e,d,c){return-d/2*(Math.cos(Math.PI*a/c)-1)+e},easeInExpo:function(f,a,e,d,c){return 0==a?e:d*Math.pow(2,10*(a/c-1))+e},easeOutExpo:function(f,a,e,d,c){return a==c?e+d:d*(-Math.pow(2,-10*a/c)+1)+e},easeInOutExpo:function(f,a,e,d,c){return 0==a?e:a==c?e+d:1>(a/=c/2)?d/2*Math.pow(2,10*(a-1))+e:d/2*(-Math.pow(2,-10*--a)+2)+e},easeInCirc:function(f,a,e,d,c){return-d*(Math.sqrt(1-(a/=c)*
a)-1)+e},easeOutCirc:function(f,a,e,d,c){return d*Math.sqrt(1-(a=a/c-1)*a)+e},easeInOutCirc:function(f,a,e,d,c){return 1>(a/=c/2)?-d/2*(Math.sqrt(1-a*a)-1)+e:d/2*(Math.sqrt(1-(a-=2)*a)+1)+e},easeInElastic:function(f,a,e,d,c){f=1.70158;var g=0,h=d;if(0==a)return e;if(1==(a/=c))return e+d;g||(g=0.3*c);h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*c-f)*2*Math.PI/g))+e},easeOutElastic:function(f,a,e,d,c){f=1.70158;var g=0,h=d;if(0==a)return e;if(1==
(a/=c))return e+d;g||(g=0.3*c);h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*c-f)*2*Math.PI/g)+d+e},easeInOutElastic:function(f,a,e,d,c){f=1.70158;var g=0,h=d;if(0==a)return e;if(2==(a/=c/2))return e+d;g||(g=c*0.3*1.5);h<Math.abs(d)?(h=d,f=g/4):f=g/(2*Math.PI)*Math.asin(d/h);return 1>a?-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*c-f)*2*Math.PI/g)+e:0.5*h*Math.pow(2,-10*(a-=1))*Math.sin((a*c-f)*2*Math.PI/g)+d+e},easeInBack:function(f,a,e,d,c,g){void 0==
g&&(g=1.70158);return d*(a/=c)*a*((g+1)*a-g)+e},easeOutBack:function(f,a,e,d,c,g){void 0==g&&(g=1.70158);return d*((a=a/c-1)*a*((g+1)*a+g)+1)+e},easeInOutBack:function(f,a,e,d,c,g){void 0==g&&(g=1.70158);return 1>(a/=c/2)?d/2*a*a*(((g*=1.525)+1)*a-g)+e:d/2*((a-=2)*a*(((g*=1.525)+1)*a+g)+2)+e},easeInBounce:function(f,a,e,d,c){return d-jQuery.easing.easeOutBounce(f,c-a,0,d,c)+e},easeOutBounce:function(f,a,e,d,c){return(a/=c)<1/2.75?d*7.5625*a*a+e:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+e:a<2.5/2.75?
d*(7.5625*(a-=2.25/2.75)*a+0.9375)+e:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+e},easeInOutBounce:function(f,a,e,d,c){return a<c/2?0.5*jQuery.easing.easeInBounce(f,2*a,0,d,c)+e:0.5*jQuery.easing.easeOutBounce(f,2*a-c,0,d,c)+0.5*d+e}});
(function(f){function a(){}function e(a){G=[a]}function d(a,g,h){return a&&a.apply(g.context||g,h)}function c(c){function M(a){z++||(A(),B&&(I[p]={s:[a]}),N&&(a=N.apply(c,[a])),d(J,c,[a,O,c]),d(P,c,[c,O]))}function H(a){z++||(A(),B&&a!=Q&&(I[p]=a),d(K,c,[c,a]),d(P,c,[c,a]))}c=f.extend({},R,c);var J=c.success,K=c.error,P=c.complete,N=c.dataFilter,C=c.callbackParameter,S=c.callback,Y=c.cache,B=c.pageCache,T=c.charset,p=c.url,s=c.data,U=c.timeout,D,z=0,A=a,n,w,L;V&&V(function(a){a.done(J).fail(K);J=
a.resolve;K=a.reject}).promise(c);c.abort=function(){!z++&&A()};if(!1===d(c.beforeSend,c,[c])||z)return c;p=p||k;s=s?"string"==typeof s?s:f.param(s,c.traditional):k;p+=s?(/\?/.test(p)?"&":"?")+s:k;C&&(p+=(/\?/.test(p)?"&":"?")+encodeURIComponent(C)+"=?");Y||B||(p+=(/\?/.test(p)?"&":"?")+"_"+(new Date).getTime()+"=");p=p.replace(/=\?(&|$)/,"="+S+"$1");B&&(D=I[p])?D.s?M(D.s[0]):H(D):(W[S]=e,n=f(m)[0],n.id=E+Z++,T&&(n[h]=T),X&&11.6>X.version()?(w=f(m)[0]).text="document.getElementById('"+n.id+"')."+
x+"()":n[g]=g,$&&(n.htmlFor=n.id,n.event=v),n[r]=n[x]=n[t]=function(a){if(!n[u]||!/i/.test(n[u])){try{n[v]&&n[v]()}catch(g){}a=G;G=0;a?M(a[0]):H(l)}},n.src=p,A=function(a){L&&clearTimeout(L);n[t]=n[r]=n[x]=null;y[q](n);w&&y[q](w)},y[F](n,C=y.firstChild),w&&y[F](w,C),L=0<U&&setTimeout(function(){H(Q)},U));return c}var g="async",h="charset",k="",l="error",F="insertBefore",E="_jqjsp",v="onclick",x="on"+l,r="onload",t="onreadystatechange",u="readyState",q="removeChild",m="<script>",O="success",Q="timeout",
W=window,V=f.Deferred,y=f("head")[0]||document.documentElement,I={},Z=0,G,R={callback:E,url:location.href},X=W.opera,$=!!f("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;c.setup=function(a){f.extend(R,a)};f.jsonp=c})(jQuery);this.JSON||(this.JSON={});
(function(){function f(a){return 10>a?"0"+a:a}function a(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var g=k[a];return"string"===typeof g?g:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function e(c,d){var f,k,r,t,u=g,q,m=d[c];m&&("object"===typeof m&&"function"===typeof m.toJSON)&&(m=m.toJSON(c));"function"===typeof l&&(m=l.call(d,c,m));switch(typeof m){case "string":return a(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);
case "object":if(!m)return"null";g+=h;q=[];if("[object Array]"===Object.prototype.toString.apply(m)){t=m.length;for(f=0;f<t;f+=1)q[f]=e(f,m)||"null";r=0===q.length?"[]":g?"[\n"+g+q.join(",\n"+g)+"\n"+u+"]":"["+q.join(",")+"]";g=u;return r}if(l&&"object"===typeof l)for(t=l.length,f=0;f<t;f+=1)k=l[f],"string"===typeof k&&(r=e(k,m))&&q.push(a(k)+(g?": ":":")+r);else for(k in m)Object.hasOwnProperty.call(m,k)&&(r=e(k,m))&&q.push(a(k)+(g?": ":":")+r);r=0===q.length?"{}":g?"{\n"+g+q.join(",\n"+g)+"\n"+
u+"}":"{"+q.join(",")+"}";g=u;return r}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g,h,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,c,f){var d;h=g="";if("number"===typeof f)for(d=0;d<f;d+=1)h+=" ";else"string"===typeof f&&(h=f);if((l=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return e("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,g){function h(a,c){var f,d,e=a[c];if(e&&"object"===typeof e)for(f in e)Object.hasOwnProperty.call(e,f)&&(d=h(e,f),void 0!==d?e[f]=d:delete e[f]);return g.call(a,c,e)}var c;a=String(a);d.lastIndex=0;d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),"function"===typeof g?h({"":c},""):c;throw new SyntaxError("JSON.parse");})})();
(function(f){f.tools=f.tools||{version:"2013-02-15"};var a=f.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff"}},e,d,c,g,h;f.mask={load:function(k,l){if(c)return this;k=k||g;g=k=f.extend(f.extend({},a.conf),k);e=f("#"+k.maskId);e.length||(e=f("<div/>").attr("id",k.maskId),f("body").append(e));e.css({position:"fixed",top:0,left:0,width:"100%",height:"100%",display:"none",opacity:k.startOpacity,zIndex:k.zIndex,backgroundColor:k.color});
l&&l.length&&(h=l.eq(0).css("zIndex"),d=l.css({zIndex:Math.max(k.zIndex+1,"auto"==h?0:h)}));e.css({display:"block"}).fadeTo(k.loadSpeed,k.opacity);c=!0;return this},close:function(){c&&(e.fadeOut(g.closeSpeed,function(){d&&d.css({zIndex:h})}),c=!1);return this}};f.fn.mask=function(a){f.mask.load(a);return this};f.fn.expose=function(a){f.mask.load(a,this);return this}})(jQuery);
!function(f){function a(){this.timer=this.documentTitle=this.instance=this.assemblyId=null;this._options={};this.uploads=[];this.results={};this.pollStarted=this.ended=null;this.seq=this.pollRetries=0;this.started=!1;this.params=this.assembly=null;this.lastPoll=this.bytesReceivedBefore=0;this.$modal=this.$iframe=this.$fileClones=this.$files=this.$form=this.$params=null}var e="https:"==document.location.protocol?"https://":"http://",d={service:e+"api2.transloadit.com/",assets:e+"assets.transloadit.com/",
onFileSelect:function(){},onStart:function(){},onProgress:function(){},onUpload:function(){},onResult:function(){},onCancel:function(){},onError:function(){},onSuccess:function(){},interval:2500,pollTimeout:8E3,poll404Retries:15,pollConnectionRetries:3,wait:!1,processZeroFiles:!0,triggerUploadOnFileSelection:!1,autoSubmit:!0,modal:!0,exclude:"",fields:!1,params:null,signature:null,debug:!0},c=!1;f.fn.transloadit=function(){var g=Array.prototype.slice.call(arguments),h,c;(1==g.length&&"object"==typeof g[0]||
void 0===g[0])&&g.unshift("init");h=g.shift();"init"==h?(c=new a,g.unshift(this),this.data("transloadit.uploader",c)):c=this.data("transloadit.uploader");if(!c)throw Error("Element is not initialized for transloadit!");g=c[h].apply(c,g);return void 0===g?this:g};a.prototype.init=function(a,c){this.$form=a;this.options(f.extend({},d,c||{}));var e=this;a.bind("submit.transloadit",function(){e.validate();e.detectFileInputs();e.checkFileTypes();e._options.processZeroFiles||0!==e.$files.length?e.getBoredInstance():
e.submitForm();return!1});if(this._options.triggerUploadOnFileSelection)a.on("change",'input[type="file"]',function(){a.trigger("submit.transloadit")});a.on("change",'input[type="file"]',function(){e._options.onFileSelect(f(this).val(),f(this))});this.includeCss()};a.prototype.getBoredInstance=function(){var a=this;this.instance=null;f.jsonp({url:this._options.service+"instances/bored",timeout:a._options.pollTimeout,callbackParameter:"callback",success:function(c){c.error?(a.ended=!0,a.renderError(c),
a._options.onError(c)):(a.instance=c.api2_host,a.start())},error:function(c,f){a.ended=!0;var e={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",reason:"JSONP request status: "+f};a.renderError(e);a._options.onError(e)}});this._options.modal&&this.showModal()};a.prototype.start=function(){var a=this;this.ended=this.started=!1;this.seq=this.pollRetries=this.bytesReceivedBefore=0;this.uploads=[];this.results={};this.assemblyId=this.uuid();this.$fileClones=f().not(document);
this.$files.each(function(){var c=f(this).clone(!0);a.$fileClones=a.$fileClones.add(c);c.insertAfter(this)});this.$iframe=f('<iframe id="transloadit-'+this.assemblyId+'" name="transloadit-'+this.assemblyId+'"/>').appendTo("body").hide();if(this._options.formData){this._options.formData.append("params",this.$form.find("input[name=params]").val());var c=new XMLHttpRequest;c.open("POST",b);c.send(this._options.formData)}else{this.$uploadForm=f('<form enctype="multipart/form-data" />').attr("action",
e+this.instance+"/assemblies/"+this.assemblyId+"?redirect=false").attr("target","transloadit-"+this.assemblyId).attr("method","POST").append(this.$files).appendTo("body").hide();var d="[name=params], [name=signature]";!0===this._options.fields?d="*":"string"===typeof this._options.fields&&(d+=", "+this._options.fields);var l=this.$form.find(":input[type!=file]").filter(d),d=l.filter("select"),l=l.filter(function(){return!f(this).is("select")}),l=this.clone(l);this._options.params&&!this.$params&&
(l=l.add('<input name="params" value=\''+JSON.stringify(this._options.params)+"'>"));this._options.signature&&(l=l.add('<input name="signature" value=\''+this._options.signature+"'>"));if("object"==typeof this._options.fields)for(c in this._options.fields)l=l.add('<input name="'+c+"\" value='"+this._options.fields[c]+"'>");l.prependTo(this.$uploadForm);d.each(function(){f('<input type="hidden"/>').attr("name",f(this).attr("name")).attr("value",f(this).val()).prependTo(a.$uploadForm)});this.$uploadForm.submit()}this.lastPoll=
+new Date;setTimeout(function(){a._poll()},300)};a.prototype.clone=function(a){var c=a.clone();a=a.filter("textarea");for(var d=c.filter("textarea"),e=0,F=a.length;e<F;++e)f(d[e]).val(f(a[e]).val());return c};a.prototype.checkFileTypes=function(){var a=this;this.$files=this.$files.filter(function(){var c=f(this).attr("accept");if(!c)return!0;-1!==c.indexOf("video/*")&&(c=c.replace(/video\/\*/g,"video/mp4,video/flv,video/avi,video/mpg,video/mov,video/wmv,video/h264,video/mkv"));-1!==c.indexOf("image/*")&&
(c=c.replace(/image\/\*/g,"image/png,image/jpeg,image/gif,image/jpg,image/ico"));-1!==c.indexOf("audio/*")&&(c=c.replace(/audio\/\*/g,"audio/aac,audio/mp4,audio/mpeg,audio/ogg,audio/wav,audio/webm"));for(var c=c.split(","),e=this.value.split(".").pop().toLowerCase(),d=0;d<c.length;d++)if(e==c[d].split("/")[1])return!0;a._options.onError({error:"INVALID_FILE_TYPE",message:"Sorry, we don't accept "+e+" files.",reason:"Invalid file selected"});return!1})};a.prototype.detectFileInputs=function(){var a=
this.$form.find("input[type=file]").not(this._options.exclude);this._options.processZeroFiles||(a=a.filter(function(){return""!==this.value}));this.$files=a};a.prototype.validate=function(){if(this._options.params)this.params=this._options.params;else{var a=this.$form.find("input[name=params]");if(!a.length){alert("Could not find input[name=params] in your form.");return}this.$params=a;try{this.params=JSON.parse(a.val())}catch(c){alert("Error: input[name=params] seems to contain invalid JSON.");return}}this.params.redirect_url?
this.$form.attr("action",this.params.redirect_url):this._options.autoSubmit&&this.$form.attr("action")==this._options.service+"assemblies"&&alert("Error: input[name=params] does not include a redirect_url")};a.prototype._poll=function(a){var c=this;if(!this.ended){var d=/(mozilla)(?:.*? rv:([\w.]+))?/.exec(navigator.userAgent);d&&d[1]&&!this.documentTitle&&(this.documentTitle=document.title,document.title="Loading...");this.pollStarted=+new Date;f.jsonp({url:e+this.instance+"/assemblies/"+this.assemblyId+
(a||"?seq="+this.seq),timeout:c._options.pollTimeout,callbackParameter:"callback",success:function(a){if(!c.ended)if(c.assembly=a,"ASSEMBLY_NOT_FOUND"==a.error)c.pollRetries++,c.pollRetries>c._options.poll404Retries?(document.title=c.documentTitle,c.ended=!0,c.renderError(a),c._options.onError(a)):setTimeout(function(){c._poll()},400);else if(a.error)c.ended=!0,c.renderError(a),document.title=c.documentTitle,c._options.onError(a);else{c.seq=a.last_seq;c.started||(c.started=!0,c._options.onStart(a));
c.pollRetries=0;var d="ASSEMBLY_EXECUTING"==a.ok,e="ASSEMBLY_CANCELED"==a.ok,f="ASSEMBLY_COMPLETED"==a.ok;c._options.onProgress(a.bytes_received,a.bytes_expected,a);for(var g=0;g<a.uploads.length;g++)c._options.onUpload(a.uploads[g],a),c.uploads.push(a.uploads[g]);for(var k in a.results)for(c.results[k]=c.results[k]||[],g=0;g<a.results[k].length;g++)c._options.onResult(k,a.results[k][g],a),c.results[k].push(a.results[k][g]);e?(c.ended=!0,document.title=c.documentTitle,c._options.onCancel(a)):(c.renderProgress(a),
f||!c._options.wait&&d?(c.ended=!0,document.title=c.documentTitle,a.uploads=c.uploads,a.results=c.results,c._options.onSuccess(a),c._options.modal&&c.cancel(),c.submitForm()):(a=c.pollStarted-+new Date,c.timer=setTimeout(function(){c._poll()},a<c._options.interval?c._options.interval:a),c.lastPoll=+new Date))}},error:function(a,d){if(!c.ended)if(c.pollRetries++,c.pollRetries>c._options.pollConnectionRetries){document.title=c.documentTitle;c.ended=!0;var e={error:"CONNECTION_ERROR",message:"There was a problem connecting to the upload server",
reason:"JSONP request status: "+d};c.renderError(e);c._options.onError(e)}else setTimeout(function(){c._poll()},350)}})}};a.prototype.stop=function(){document.title=this.documentTitle;this.ended=!0};a.prototype.cancel=function(){if(!this.ended){var a=this;this.$params&&this.$params.prependTo(this.$form);this.$fileClones.each(function(c){c=f(a.$files[c]).clone(!0);var d=f(this);c.insertAfter(d);d.remove()});clearTimeout(a.timer);this._poll("?method=delete");"Microsoft Internet Explorer"==navigator.appName&&
this.$iframe[0].contentWindow.document.execCommand("Stop");setTimeout(function(){a.$iframe.remove()},500)}this._options.modal&&(f.mask.close(),this.$modal.remove())};a.prototype.submitForm=function(){null!==this.assembly&&f("<textarea/>").attr("name","transloadit").text(JSON.stringify(this.assembly)).prependTo(this.$form).hide();this._options.autoSubmit&&this.$form.unbind("submit.transloadit").submit()};a.prototype.showModal=function(){this.$modal=f('<div id="transloadit"><div class="content"><a href="#close" class="close">Cancel</a><p class="status"></p><div class="progress progress-striped active"><div class="bar"><span class="percent"></span></div></div><label>Starting upload ...</label><p class="error"></p></div></div>').appendTo("body");
f.extend(this.$modal,{$content:this.$modal.find(".content"),$close:this.$modal.find(".close"),$label:this.$modal.find("label"),$progress:this.$modal.find(".progress"),$percent:this.$modal.find(".progress .percent"),$progressBar:this.$modal.find(".progress .bar"),$error:this.$modal.find(".error")});var a=this;this.$modal.$close.click(function(){a.cancel()});this.$modal.$error.hide();a=this;this.$modal.expose({api:!0,maskId:"transloadit_expose",opacity:0.9,loadSpeed:250,closeOnEsc:!1,closeOnClick:!1});
this.$modal.$close.click(function(){a.cancel();return!1})};a.prototype.renderError=function(a){this._options.modal&&(this.$modal.$content.addClass("content-error"),this.$modal.$progress.hide(),this.$modal.$label.hide(),this.$modal.$error.html(this._options.debug?a.error+": "+a.message+"<br><br>"+(a.reason||""):"There was an internal error, please try your upload again.").show())};a.prototype.renderProgress=function(a){if(this._options.modal){var c=this,d=a.bytes_received/a.bytes_expected,e=a.bytes_received-
this.bytesReceivedBefore,f=+new Date-this.lastPoll,E=1==d?1E3:2*this._options.interval,v="Processing files";1!=d&&(v=(a.bytes_received/1024/1024).toFixed(2)+" MB / "+(a.bytes_expected/1024/1024).toFixed(2)+" MB ("+(e/1024/(f/1E3)).toFixed(1)+" kB / sec)");this.bytesReceivedBefore=a.bytes_received;this.$modal.$label.text(v);var x=parseInt(c.$modal.$progress.css("width"),10);0<e&&this.$modal.$progressBar.stop().animate({width:100*d+"%"},{duration:E,easing:"linear",progress:function(a,d,e){a=(100*parseInt(c.$modal.$progressBar.css("width"),
10)/x).toFixed(0);13<a&&c.$modal.$percent.text(a+"%")}})}};a.prototype.includeCss=function(){!c&&this._options.modal&&(c=!0,f('<link rel="stylesheet" type="text/css" href="'+this._options.assets+'css/transloadit2-v2.1.0.css" />').appendTo("head"))};a.prototype.uuid=function(){var a="",c;for(c=0;32>c;c++)a+=Math.floor(16*Math.random()).toString(16);return a};a.prototype.options=function(a){if(0===arguments.length)return this._options;f.extend(this._options,a)};a.prototype.option=function(a,c){if(1==arguments.length)return this._options[a];
this._options[a]=c}}(window.jQuery);
